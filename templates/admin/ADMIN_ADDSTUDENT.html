{#{% extends 'admin/indexhome2.html' %}#}
{#{% block body %}#}
{#</head>#}
{##}
{#<style>#}
{#    body {#}
{#        font-family: Arial, sans-serif;#}
{#        background-color: #f4f4f4; /* Light background */#}
{#        margin: 0;#}
{#        padding: 20px;#}
{#    }#}
{#    .container {#}
{#        max-width: 600px; /* Set a max width for the form */#}
{#        margin: auto;#}
{#        background: white; /* White background for the form */#}
{#        border-radius: 8px;#}
{#        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); /* Shadow for depth */#}
{#        padding: 20px;#}
{#        position: relative; /* For positioning the back button */#}
{#    }#}
{#    h2 {#}
{#        text-align: center;#}
{#        color: #007BFF; /* Heading color */#}
{#        margin-bottom: 20px;#}
{#    }#}
{#    table {#}
{#        width: 100%; /* Full width for the table */#}
{#        border-collapse: collapse; /* Collapse borders for a cleaner look */#}
{#    }#}
{#    th {#}
{#        background-color: #007BFF; /* Header color */#}
{#        color: white; /* Header text color */#}
{#        padding: 10px; /* Padding for header */#}
{#        border-radius: 8px 8px 0 0; /* Rounded top corners */#}
{#    }#}
{#    td {#}
{#        padding: 10px; /* Padding for cells */#}
{#        border: 1px solid #ddd; /* Light border for cells */#}
{#        border-radius: 0 0 8px 8px; /* Rounded bottom corners */#}
{#    }#}
{#    input[type="text"], input[type="file"], select, textarea {#}
{#        width: 100%; /* Full width for inputs */#}
{#        padding: 10px; /* Padding inside inputs */#}
{#        border-radius: 4px; /* Rounded corners */#}
{#        border: 1px solid #ccc; /* Light border */#}
{#        margin-top: 5px; /* Space above inputs */#}
{#        font-size: 16px; /* Font size */#}
{#    }#}
{#    input[type="text"]:focus, select:focus, textarea:focus {#}
{#        border-color: #007BFF; /* Change border color on focus */#}
{#        outline: none; /* Remove default outline */#}
{#    }#}
{#    input[type="submit"] {#}
{#        background-color: #007BFF; /* Button background color */#}
{#        color: white; /* Button text color */#}
{#        border: none;#}
{#        border-radius: 4px;#}
{#        padding: 10px 20px; /* Padding for the button */#}
{#        cursor: pointer;#}
{#        font-size: 16px; /* Font size */#}
{#        margin-top: 10px; /* Space above the button */#}
{#        transition: background-color 0.3s; /* Smooth background change */#}
{#    }#}
{#    input[type="submit"]:hover {#}
{#        background-color: #0056b3; /* Darker shade on hover */#}
{#    }#}
{#    textarea {#}
{#        height: 100px; /* Set a height for the textarea */#}
{#        resize: none; /* Prevent resizing */#}
{#    }#}
{#    .back-button {#}
{#        position: absolute; /* Position it at the top left */#}
{#        top: 10px;#}
{#        left: 10px;#}
{#        background-color: #007BFF; /* Background color for the button */#}
{#        border: none; /* No border */#}
{#        border-radius: 50%; /* Make it round */#}
{#        cursor: pointer;#}
{#        font-size: 24px; /* Increase font size for a bigger arrow */#}
{#        color: white; /* Color of the arrow */#}
{#        width: 50px; /* Width of the button */#}
{#        height: 50px; /* Height of the button */#}
{#        display: flex;#}
{#        align-items: center; /* Center the arrow vertically */#}
{#        justify-content: center; /* Center the arrow horizontally */#}
{#        transition: transform 0.3s, background-color 0.3s; /* Smooth transitions */#}
{#    }#}
{#    .back-button:hover {#}
{#        background-color: #0056b3; /* Darker shade on hover */#}
{#        transform: scale(1.1); /* Slightly increase size on hover */#}
{#    }#}
{#</style>#}
{##}
{#<body>#}
{#<div class="container">#}
{#    <button class="back-button" onclick="window.history.back();">&#8592;</button>#}
{#    <h2>Add Student</h2>#}
{#    <form action="/ADDSTUDENT_post" method="post" enctype="multipart/form-data" name="form1" id="form1">{% csrf_token %}#}
{#        <table>#}
{#            <tr>#}
{#                <th colspan="2">STUDENT DETAILS</th>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>STUDENT NAME</td>#}
{#                <td><input type="text" name="textfield" required  pattern="[A-Z a-z.]{3,35}" title="only charecters "/></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>ADMISSION NUMBER</td>#}
{#                <td><input type="text" name="textfield2" required pattern="[A-Z a-z 0-9.]{3,45}"/></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>BATCH</td>#}
{#                <td><input type="text" name="textfield3" required /></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>DEPARTMENT</td>#}
{#                <td><select name="textfield4">#}
{#                    <option value="CSE">CS</option>#}
{#                    <option value="EEE">EEE</option>#}
{#                    <option value="CE">CE</option>#}
{#                    <option value="EC">EC</option>#}
{#                    <option value="AAD">AAD</option>#}
{#                    <option value="MECH">MECH</option>#}
{#                </select></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>BUS ROUTE</td>#}
{#                <td>#}
{#                    <select name="select" required id="route">#}
{#                    <option value="">Select</option>#}
{#                        {% for i in val %}#}
{#                            <option value="{{ i.id }}">{{ i.from1 }} to {{ i.to }}</option>#}
{#                        {% endfor %}#}
{#                    </select>#}
{#                </td>#}
{#            </tr>#}
{#         <tr>#}
{#                <td>BUS STOP</td>#}
{#                <td>#}
{#                    <select name="select1" id="stop" required>#}
{##}
{#                    </select>#}
{#                </td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>EMAIL</td>#}
{#                <td><input type="text" name="textfield11" required pattern="[a-z0-9._%+-]@[a-z0-9.-]+\.[a-z]{2,3}" title="Must be in the format of mail-id " required /></td>#}
{#                <td><input type="text" name="textfield11" required pattern="[a-zA-Z0-9._%+-]+@gmail\.com" title="Please enter a valid Gmail address" required/></td>#}
{##}
{#            </tr>#}
{#            <tr>#}
{#                <td>PHOTO</td>#}
{#                <td><input type="file" name="photo" accept="image/*" required/></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>PHONE NO</td>#}
{#                <td><input type="text" name="textfield7" required pattern="[6789][0-9]{9}" title="Must contain  10 numbers" required/></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>ADDRESS</td>#}
{#                <td><textarea name="textarea" required pattern="[A-Z a-z 0-9.]{3,45}"></textarea></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>USERNAME</td>#}
{#                <td><input type="text" name="textfield9" required pattern="[A-Z a-z 0-9.]{3,45}"/></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td>PASSWORD</td>#}
{#                <td><input type="password" name="textfield10" required  pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required /></td>#}
{#            </tr>#}
{#            <tr>#}
{#                <td colspan="2">#}
{#                    <div align="center">#}
{#                        <input type="submit" name="Submit" value="Submit" />#}
{#                    </div>#}
{#                </td>#}
{#            </tr>#}
{#        </table>#}
{#    </form>#}
{#</div>#}
{##}
{##}
{#<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>#}
{#    <script type="text/javascript">#}
{##}
{##}
{#    $("#route").change(function(){#}
{#    var uname;#}
{#    uname = $(this).val();#}
{##}
{#$.ajax(#}
{#    {#}
{#        type:"GET",#}
{#        url: "/view_bus_stop",#}
{#        data:{#}
{#                 rid: uname,#}
{#        },#}
{#        success: function( data )#}
{#        {#}
{#        var data1=data.data#}
{#            $('#stop').empty();#}
{#        $('#stop').append('<option value="">-- Select a Stop --</option>');#}
{#            for(var i=0;i<data1.length;i++)#}
{#            {#}
{#                console.log(data1[i].stop)#}
{#                console.log(data1[i].id)#}
{##}
{##}
{##}
{#                        $('#stop').append('<option value="' + data1[i].id.toString() + '">' + data1[i].stop + '</option>');#}
{##}
{#            }#}
{##}
{#        }#}
{#     })#}
{#});#}
{##}
{##}
{#</script>#}
{#</body>#}
{#{% endblock %}#}








{% extends 'admin/indexhome2.html' %}
{% block body %}
</head>

<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4; /* Light background */
        margin: 0;
        padding: 20px;
    }
    .container {
        max-width: 600px; /* Set a max width for the form */
        margin: auto;
        background: white; /* White background for the form */
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); /* Shadow for depth */
        padding: 20px;
        position: relative; /* For positioning the back button */
    }
    h2 {
        text-align: center;
        color: #007BFF; /* Heading color */
        margin-bottom: 20px;
    }
    table {
        width: 100%; /* Full width for the table */
        border-collapse: collapse; /* Collapse borders for a cleaner look */
    }
    th {
        background-color: #007BFF; /* Header color */
        color: white; /* Header text color */
        padding: 10px; /* Padding for header */
        border-radius: 8px 8px 0 0; /* Rounded top corners */
    }
    td {
        padding: 10px; /* Padding for cells */
        border: 1px solid #ddd; /* Light border for cells */
        border-radius: 0 0 8px 8px; /* Rounded bottom corners */
    }
    input[type="text"], input[type="file"], select, textarea {
        width: 100%; /* Full width for inputs */
        padding: 10px; /* Padding inside inputs */
        border-radius: 4px; /* Rounded corners */
        border: 1px solid #ccc; /* Light border */
        margin-top: 5px; /* Space above inputs */
        font-size: 16px; /* Font size */
    }
    input[type="text"]:focus, select:focus, textarea:focus {
        border-color: #007BFF; /* Change border color on focus */
        outline: none; /* Remove default outline */
    }
    input[type="submit"] {
        background-color: #007BFF; /* Button background color */
        color: white; /* Button text color */
        border: none;
        border-radius: 4px;
        padding: 10px 20px; /* Padding for the button */
        cursor: pointer;
        font-size: 16px; /* Font size */
        margin-top: 10px; /* Space above the button */
        transition: background-color 0.3s; /* Smooth background change */
    }
    input[type="submit"]:hover {
        background-color: #0056b3; /* Darker shade on hover */
    }
    textarea {
        height: 100px; /* Set a height for the textarea */
        resize: none; /* Prevent resizing */
    }
    .back-button {
        position: absolute; /* Position it at the top left */
        top: 10px;
        left: 10px;
        background-color: #007BFF; /* Background color for the button */
        border: none; /* No border */
        border-radius: 50%; /* Make it round */
        cursor: pointer;
        font-size: 24px; /* Increase font size for a bigger arrow */
        color: white; /* Color of the arrow */
        width: 50px; /* Width of the button */
        height: 50px; /* Height of the button */
        display: flex;
        align-items: center; /* Center the arrow vertically */
        justify-content: center; /* Center the arrow horizontally */
        transition: transform 0.3s, background-color 0.3s; /* Smooth transitions */
    }
    .back-button:hover {
        background-color: #0056b3; /* Darker shade on hover */
        transform: scale(1.1); /* Slightly increase size on hover */
    }
</style>

<body>
<div class="container">
    <button class="back-button" onclick="window.history.back();">&#8592;</button>
    <h2>Add Student</h2>
    <form action="/ADDSTUDENT_post" method="post" enctype="multipart/form-data" name="form1" id="form1">{% csrf_token %}
        <table>
            <tr>
                <th colspan="2">STUDENT DETAILS</th>
            </tr>
            <tr>
                <td>STUDENT NAME</td>
                <td><input type="text" name="textfield" required  pattern="[A-Z a-z.]{3,35}" title="only charecters "/></td>
            </tr>
            <tr>
                <td>ADMISSION NUMBER</td>
                <td><input type="text" name="textfield2" required pattern="[A-Z a-z 0-9.]{3,45}"/></td>
            </tr>
            <tr>
                <td>BATCH</td>

                <td>
                     <input
                    type="text"
                    name="textfield3"
                    required
                  pattern="[0-9\-]+"
                   title="Only numbers and hyphens (-) are allowed. ' example (2021-25)"
                     />
                    </td>



{#                <td><input type="text" name="textfield3" required /></td>#}
            </tr>
            <tr>
                <td>DEPARTMENT</td>
                <td><select name="textfield4">
                    <option value="CSE">CS</option>
                    <option value="EEE">EEE</option>
                    <option value="CE">CE</option>
                    <option value="EC">EC</option>
                    <option value="AAD">AAD</option>
                    <option value="MECH">MECH</option>
                </select></td>
            </tr>
            <tr>
                <td>BUS ROUTE</td>
                <td>
                    <select name="select" required id="route">
                    <option value="">Select</option>
                        {% for i in val %}
                            <option value="{{ i.id }}">{{ i.from1 }} to {{ i.to }}</option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
         <tr>
                <td>BUS STOP</td>
                <td>
                    <select name="select1" id="stop" required>

                    </select>
                </td>
            </tr>
            <tr>
                <td>EMAIL</td>
{#                <td><input type="text" name="textfield11" required pattern="[a-z0-9._%+-]@[a-z0-9.-]+\.[a-z]{2,3}" title="Must be in the format of mail-id " required /></td>#}
{#                <td><input type="text" name="textfield11" required pattern="[a-zA-Z0-9._%+-]+@gmail\.com" title="Please enter a valid Gmail address" required/></td>#}
                 <td>   <input
            type="text"
             name="textfield11"
              required
              pattern="[a-zA-Z0-9._%+-]+@gmail\.com"
                title="Please enter a valid Gmail address ending with @gmail.com"
            /></td>





            </tr>
            <tr>
                <td>PHOTO</td>
                <td><input type="file" name="photo" accept="image/*" required/></td>
            </tr>
            <tr>
                <td>PHONE NO</td>
                <td><input type="text" name="textfield7" required pattern="[6789][0-9]{9}" title="Must contain  10 numbers" required/></td>
            </tr>
            <tr>
                <td>ADDRESS</td>
                <td><textarea name="textarea" required pattern="[A-Z a-z 0-9.]{3,45}"></textarea></td>
            </tr>
            <tr>
                <td>USERNAME</td>
                <td><input type="text" name="textfield9" required pattern="[A-Z a-z 0-9.]{3,45}"/></td>
            </tr>
            <tr>
                <td>PASSWORD</td>
                <td><input type="password" name="textfield10" required  pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" required /></td>
            </tr>
            <tr>
                <td colspan="2">
                    <div align="center">
                        <input type="submit" name="Submit" value="Submit" />
                    </div>
                </td>
            </tr>
        </table>
    </form>
</div>

<script>
    document.getElementById('form1').addEventListener('submit', function(event) {
        const batchField = document.getElementById('batchField');
        const batchValue = batchField.value;
        const batchPattern = /^[0-9\-]+$/;

        if (!batchPattern.test(batchValue)) {
            alert('Please enter a valid batch. Only numbers and hyphens (-) are allowed.');
            batchField.focus();
            event.preventDefault(); // Prevent form submission
        }
    });





    document.getElementById('form1').addEventListener('submit', function(event) {
        const emailField = document.querySelector('[name="textfield11"]');
        const email = emailField.value;
        const gmailPattern = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;

        if (!gmailPattern.test(email)) {
            alert('Please enter a valid Gmail address ending with @gmail.com.');
            emailField.focus();
            event.preventDefault(); // Prevent form submission
        }
    });
</script>






<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script type="text/javascript">


    $("#route").change(function(){
    var uname;
    uname = $(this).val();

$.ajax(
    {
        type:"GET",
        url: "/view_bus_stop",
        data:{
                 rid: uname,
        },
        success: function( data )
        {
        var data1=data.data
            $('#stop').empty();
        $('#stop').append('<option value="">-- Select a Stop --</option>');
            for(var i=0;i<data1.length;i++)
            {
                console.log(data1[i].stop)
                console.log(data1[i].id)



                        $('#stop').append('<option value="' + data1[i].id.toString() + '">' + data1[i].stop + '</option>');

            }

        }
     })
});


</script>


</body>
{% endblock %}
